<!doctype html>
<html lang="si">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>‡∑Å‡∑í‡∑Ç‡∑ä‚Äç‡∂∫ ‡∂Ω‡∂ö‡∑î‡∂´‡∑î ‡∑Ä‡∑í‡∑Å‡∑ä‡∂Ω‡∑ö‡∑Ç‡∂´‡∂∫ (ABNS)</title>
  <style>
    :root {
      --main: #ED124C;
      --accent: #3171FC;
      --white: #ffffff;
      --dark: #123;
      --shadow: 0 6px 20px rgba(0,0,0,0.08);
      --radius: 12px;
    }
    * { box-sizing: border-box; }
    body {
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      margin: 0;
      background: linear-gradient(180deg, var(--main), #ffffff 70%, #ffe6ec);
      color: var(--dark);
      line-height: 1.6;
    }
    header {
      background: linear-gradient(90deg, var(--main), var(--accent));
      color: white;
      padding: 16px 24px;
      text-align: center;
      font-size: 1.4em;
      font-weight: 600;
      box-shadow: var(--shadow);
      position: sticky; top:0; z-index:10;
    }
    .container { max-width: 1100px; margin: auto; padding: 20px; }
    h1 { margin-top: 0; font-size: 1.6em; text-align:center; }
    h3 { margin-top: 0; }
    .card {
      background: var(--white);
      border-radius: var(--radius);
      padding: 20px;
      box-shadow: var(--shadow);
    }
    label { font-weight: 600; display: block; margin-bottom: 8px; }
    textarea {
      width: 100%;
      min-height: 180px;
      border-radius: var(--radius);
      padding: 12px;
      border: 1px solid #ffb3c4;
      font-size: 14px;
      resize: vertical;
    }
    .row { display: flex; gap: 10px; flex-wrap: wrap; align-items: center; margin-top:10px; }
    button {
      padding: 10px 16px;
      border: none;
      border-radius: var(--radius);
      cursor: pointer;
      font-weight: 600;
      transition: 0.2s;
    }
    button.primary {
      background: linear-gradient(90deg, var(--main), var(--accent));
      color: white;
    }
    button.primary:hover { opacity: 0.9; }
    button.secondary {
      background: #fff0f5;
      border: 1px solid #ffb3c4;
      color: var(--dark);
    }
    .muted { color: #555; font-size: 13px; }
    table {
      width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 14px;
    }
    th, td { border: 1px solid #ffc2d1; padding: 8px 10px; text-align: right; }
    th { background: #fff0f5; text-align: center; }
    td:first-child, th:first-child { text-align: left; }
    tr:hover td { background: #fffafd; }
    .grid { display: grid; gap: 20px; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); }
    .badge {
      display: inline-block;
      padding: 4px 10px;
      border-radius: 20px;
      font-size: 12px;
      background: #fff0f5;
      border: 1px solid #ffb3c4;
    }
    .error { color: #c0392b; }
    .ok { color: var(--accent); }
    .footer {
      margin-top: 24px;
      font-size: 13px;
      text-align: center;
      color: #444;
      padding: 20px;
      background: linear-gradient(90deg,#fff0f5,#ffe6ec);
      border-top: 1px solid #ffb3c4;
    }
    .stats { display: flex; gap: 12px; flex-wrap: wrap; margin-top:12px; }
    .stat {
      flex:1; min-width:150px; background:#fffafd;
      border-radius: var(--radius); padding: 10px;
      border:1px dashed #ffb3c4; text-align:center; font-size: 14px;
    }
    @media (max-width:600px) {
      header { font-size: 1.2em; }
      h1 { font-size: 1.2em; }
    }
  </style>
</head>
<body>
  <header>üìä ‡∑Å‡∑í‡∑Ç‡∑ä‚Äç‡∂∫ ‡∂Ω‡∂ö‡∑î‡∂´‡∑î ‡∑Ä‡∑í‡∑Å‡∑ä‡∂Ω‡∑ö‡∑Ç‡∂´‡∂∫ (ABNS)</header>
  <div class="container">
    <div class="card">
      <label for="marks">‡∂Ω‡∂ö‡∑î‡∂´‡∑î ‡∂Ö‡∂≠‡∂ª ‡∂ö‡∑ú‡∂∏‡∑è‡∑Ä, ‡∂â‡∂©‡∂ö‡∑ä, ‡∑Ñ‡∑ù ‡∂±‡∑Ä ‡∂¥‡∑ö‡∑Ö‡∑í ‡∂∑‡∑è‡∑Ä‡∑í‡∂≠‡∑è ‡∂ö‡∂ª‡∂±‡∑ä‡∂± </label>
      <textarea id="marks" placeholder="‡∂ã‡∂Ø‡∑è:20,44,0,78,16,34..."></textarea>
      <div class="row">
        <button class="primary" onclick="analyze()">‡∂ú‡∂´‡∂±‡∂∫ ‡∂ö‡∂ª‡∂±‡∑ä‡∂±</button>
        <button class="secondary" onclick="clearAll()">‡∂∏‡∂ö‡∂±‡∑ä‡∂±</button>
        <span id="info" class="muted"></span>
      </div>
      <div id="alerts" class="muted" style="margin-top:8px;"></div>
      <div class="stats" id="quickStats" style="display:none;">
        <div class="stat"><b>‡∂á‡∂≠‡∑î‡∂Ω‡∑ä ‡∂ö‡∑Ö ‡∑É‡∂Ç‡∂õ‡∑ä‚Äç‡∂∫‡∑è‡∑Ä</b><br><span id="countTotal">0</span></div>
        <div class="stat"><b>‡∑É‡∑è‡∂∏‡∑è‡∂±‡∑ä‚Äç‡∂∫‡∂∫ (Average)</b><br><span id="avg">0</span></div>
        <div class="stat"><b>‡∂Ö‡∂©‡∑î‡∂∏ ‡∂Ω‡∂ö‡∑î‡∂´(Min)</b><br><span id="min">0</span></div>
        <div class="stat"><b>‡∑Ä‡∑ê‡∂©‡∑í‡∂∏ ‡∂Ω‡∂ö‡∑î‡∂´ (Max)</b><br><span id="max">0</span></div>
      </div>
    </div>

    <div class="grid" style="margin-top:20px;">
      <div class="card">
        <h3>‡∂Ω‡∂ö‡∑î‡∂´‡∑î ‡∑Ä‡∑í‡∑Å‡∑ä‡∂Ω‡∑ö‡∑Ç‡∂´‡∂∫ 1</h3>
        <div class="muted">‡∂¥‡∂ª‡∑è‡∑É‡∂∫: 0, 1‚Äì9, 20‚Äì39, 40‚Äì59, 60‚Äì79, 80‚Äì100</div>
        <table id="table1">
          <thead>
            <tr><th>Range</th><th>Count</th><th>Percentage</th></tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
      <div class="card">
        <h3>‡∂Ω‡∂ö‡∑î‡∂´‡∑î ‡∑Ä‡∑í‡∑Å‡∑ä‡∂Ω‡∑ö‡∑Ç‡∂´‡∂∫ 2</h3>
        <div class="muted">‡∂¥‡∂ª‡∑è‡∑É‡∂∫: 0‚Äì9, 10‚Äì19, ‚Ä¶, 90‚Äì100</div>
        <table id="table2">
          <thead>
            <tr><th>Range</th><th>Count</th><th>Percentage</th></tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>
  </div>

  <div class="footer">
    üîí ‡∂î‡∂∂ ‡∂á‡∂≠‡∑î‡∂Ω‡∑ä ‡∂ö‡∂ª‡∂± ‡∂Ø‡∂≠‡∑ä‡∂≠ ‡∂Ö‡∂±‡∑ä‡∂≠‡∂ª‡∑ä‡∂¢‡∑è‡∂Ω‡∂∫‡∂ß ‡∂∫‡∂±‡∑ä‡∂±‡∑ö ‡∂±‡∑ê‡∑Ñ‡∑ê.<br>
    üí° ‡∂ã‡∂¥‡∂Ø‡∑ô‡∑É‡∑ä: ‡∂Ω‡∂ö‡∑î‡∂´‡∑î ‡∂Ö‡∂≠‡∂ª ‡∂ö‡∑ú‡∂∏‡∑è‡∑Ä, ‡∂â‡∂©‡∂ö‡∑ä, ‡∑Ñ‡∑ù ‡∂±‡∑Ä ‡∂¥‡∑ö‡∑Ö‡∑í ‡∂∑‡∑è‡∑Ä‡∑í‡∂≠‡∑è ‡∂ö‡∑Ö‡∑è‡∂Ø ‡∂ú‡∑ê‡∂ß‡∂Ω‡∑î‡∑Ä‡∂ö‡∑ä ‡∂±‡∑ê‡∑Ñ‡∑ê. ‡∑Ä‡∑ê‡∂ª‡∂Ø‡∑í ‡∂Ö‡∂ú‡∂∫‡∂±‡∑ä (‡∂ã‡∂Ø‡∑è 101, -3) ‡∂∏‡∂ü ‡∑Ñ‡∑ê‡∂ª ‡∂Ø‡∂∏‡∂∫‡∑í.
  </div>

<script>
const ranges1=[
  {label:"0",min:0,max:0,exactZero:true},
  {label:"1-9",min:1,max:9},
  {label:"20-39",min:20,max:39},
  {label:"40-59",min:40,max:59},
  {label:"60-79",min:60,max:79},
  {label:"80-100",min:80,max:100}
];
const ranges2=[
  {label:"0-9",min:0,max:9},
  {label:"10-19",min:10,max:19},
  {label:"20-29",min:20,max:29},
  {label:"30-39",min:30,max:39},
  {label:"40-49",min:40,max:49},
  {label:"50-59",min:50,max:59},
  {label:"60-69",min:60,max:69},
  {label:"70-79",min:70,max:79},
  {label:"80-89",min:80,max:89},
  {label:"90-100",min:90,max:100}
];
function parseMarks(raw){
  const parts=raw.split(/[\s,;]+/g).map(s=>s.trim()).filter(Boolean);
  const valid=[],invalid=[];
  for(const p of parts){
    const v=Number(p);
    if(!Number.isFinite(v)||!Number.isInteger(v)){invalid.push(p);continue;}
    if(v<0||v>100){invalid.push(p);continue;}
    valid.push(v);
  }
  return{valid,invalid};
}
function summarize(arr){
  if(arr.length===0)return{count:0,avg:0,min:0,max:0};
  const sum=arr.reduce((a,b)=>a+b,0);
  return{count:arr.length,avg:sum/arr.length,min:Math.min(...arr),max:Math.max(...arr)};
}
function countByRanges(values,ranges){
  const counts=ranges.map(r=>0);
  for(const v of values){
    for(let i=0;i<ranges.length;i++){
      const r=ranges[i];
      if(r.exactZero){ if(v===0){counts[i]++;break;} }
      else { if(v>=r.min&&v<=r.max){counts[i]++;break;} }
    }
  }
  return counts;
}
function renderTable(tbody,ranges,counts,total){
  tbody.innerHTML="";
  for(let i=0;i<ranges.length;i++){
    const r=ranges[i],c=counts[i];
    const pct=total?(c/total*100):0;
    const tr=document.createElement("tr");
    tr.innerHTML=`<td>${r.label}</td><td>${c}</td><td>${pct.toFixed(2)}%</td>`;
    tbody.appendChild(tr);
  }
}
function analyze(){
  const raw=document.getElementById("marks").value;
  const{valid,invalid}=parseMarks(raw);
  const alerts=document.getElementById("alerts");
  const info=document.getElementById("info");
  if(invalid.length){
    alerts.innerHTML=`<span class="error">‡∑Ä‡∑ê‡∂ª‡∂Ø‡∑í ‡∂Ö‡∂ú‡∂∫‡∂±‡∑ä ${invalid.length}‡∂ö‡∑ä: </span><span class="badge">${invalid.slice(0,10).join(", ")+(invalid.length>10?" ‚Ä¶":"")}</span>`;
  }else{
    alerts.innerHTML=`<span class="ok">‡∑É‡∑è‡∂ª‡∑ä‡∂Æ‡∂ö‡∂∫‡∑í: ‡∑É‡∑í‡∂∫‡∑Ö‡∑î ‡∂Ö‡∂ú‡∂∫‡∂±‡∑ä ‡∑Ä‡∂Ω‡∂Ç‡∂ú‡∑î‡∂∫‡∑í.</span>`;
  }
  const s=summarize(valid);
  document.getElementById("countTotal").textContent=s.count;
  document.getElementById("avg").textContent=s.avg.toFixed(2);
  document.getElementById("min").textContent=s.min;
  document.getElementById("max").textContent=s.max;
  document.getElementById("quickStats").style.display="flex";
  const c1=countByRanges(valid,ranges1);
  const c2=countByRanges(valid,ranges2);
  renderTable(document.querySelector("#table1 tbody"),ranges1,c1,s.count);
  renderTable(document.querySelector("#table2 tbody"),ranges2,c2,s.count);
  info.textContent=`‡∑Ä‡∂Ω‡∂Ç‡∂ú‡∑î ‡∂Ω‡∂ö‡∑î‡∂´‡∑î ${valid.length}‡∂ö‡∑ä, ‡∑Ä‡∑ê‡∂ª‡∂Ø‡∑í ${invalid.length}‡∂ö‡∑ä.`;
}
function clearAll(){
  document.getElementById("marks").value="";
  document.getElementById("alerts").textContent="";
  document.getElementById("info").textContent="";
  document.getElementById("quickStats").style.display="none";
  document.querySelector("#table1 tbody").innerHTML="";
  document.querySelector("#table2 tbody").innerHTML="";
}
</script>
</body>
</html>
